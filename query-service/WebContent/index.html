<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Twitterにクエリーを送るよ</title>
		
		<link rel="stylesheet" href="./css/index.css" />
		
		<script src="./bower_components/jquery/dist/jquery.js"></script>
		<script src="./bower_components/jquery-json/dist/jquery.json.min.js"></script>
		<script src="./bower_components/handlebars/handlebars.js"></script>
		<script src="./bower_components/ember/ember.js"></script>
		<script src="./bower_components/js-base64/base64.js"></script>		
		
		<script src="./js/query.js"></script>
		<script src="./js/init.js"></script>
		<script src="./js/model.js"></script>
		<script src="./js/view.js"></script>
	</head>
	<body>
		<script type="text/x-handlebars" data-template-name="index">
			<h1>Twitterを検索してCSVにします。</h1>

			<div class="input-area">
				検索条件:{{input type='text' size='100' value=queryText}}
				<div class="comment">
					＊検索条件の設定の仕方は
					<a href="https://support.twitter.com/groups/31-twitter-basics/topics/110-search/articles/249059-">
					こちら	
					</a>
					を参照して下さい
				</div>
			</div>

			<div>
				ヘッダ：{{textarea cols='100' rows='5' value=csvHeaderText}}
			</div>
			<div>
				データ：{{textarea cols='100' rows='5' value=csvBodyTemplate}}
			</div>
			<div>
				件数：{{input type='text' size='5' value=csvQueryCount}}
			</div>
			<button class="btn" {{action 'doDownload'}}>CSV生成開始</button>
			<div class="searching-csv">
				<img src="./images/ajax-loader.gif">検索待機な。
			</div>
			<div id="download-items"></div>

			<br/><br/>
			
			<div class="input-area">
			検索件数:{{input type='text' size='5' value=queryCount}}
			</div>
			
			<button class="btn" {{action 'doInitQuery'}}>検索します</button>
			<br/><br/>
			<button class="btn" {{action 'doPrev'}}>前のページ</button>
			<button class="btn" {{action 'doNext'}}>次のページ</button>
			<div class="searching">
				<img src="./images/ajax-loader.gif">検索中なので待つ。
			</div>			
			<hr/>
			<div>検索結果:</div>
			<div class="content">
				<div>件数:{{count}}</div>
			</div>
			
			<div>CSV</div>
			<div class="content">
				<div class="csv-area">
				ユーザー名,内容<br/>
				{{#each details}}
					{{userName}},{{id}}<br/>
				{{/each}}
				</div> 
			</div>
			
			<div>テーブル形式:</div>
			<div class="content">
			<table>
				<tr>
					<th>ユーザー名</th>
					<th>内容</th>
				</tr>
				{{#each details}}
				<tr>
					<td>{{userName}}</td>
					<td>{{text}}</td>
				</tr>
				{{/each}}
			</table>
			</div>
		</script>
	</body>
</html>
